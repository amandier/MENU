

<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.11.1/css/all.css">
<link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&family=Rubik:wght@300;700&display=swap" rel="stylesheet">
<style>
  /*<!--- 
Restaurant Menu
-->*/
 
:root {
	--bg: #fffdf2;
	--tst: #d1e8ff;
	--radius: 10px;
	--icolor1: #c4e85a;
	--icolor2: #ffb370;
	--icolor3: #d65ae8;
	--icolor4: #63c8ff;
}

body {
	font-family: "Rubik", sans-serif;
	color: #111;
}

.container {
	position: absolute;
	top: 0;
	left: 0;
	right: 0;
	height: 100vh;
	display: grid;
	grid-template-columns: 5% auto 5%;
	grid-template-rows: 140px 80px auto 100px 30px;
	background: var(--bg);
	/* mobile viewport bug fix */
	height: -webkit-fill-available;
}

.header {
	grid-column-start: 2;
	grid-column-end: 2;
	grid-row-start: 1;
	grid-row-end: 2;
	font-family: "Dancing Script", cursive;
}

.title {
	width: 100%;
	height: 100%;
	line-height: 150px;
	font-size: 70px;
	text-align: center;
}

.indicators {
	grid-column-start: 2;
	grid-column-end: 2;
	grid-row-start: 5;
	grid-row-end: 5;
	display: grid;
	grid-template-columns: 25% 25% 25% 25%;
	grid-template-rows: 10px;
}

#i1,
#i2,
#i3,
#i4 {
	grid-column-start: 1;
	grid-column-end: 1;
	display: flex;
	align-items: center;
	justify-content: center;
}
#i2 {
	grid-column-start: 2;
	grid-column-end: 2;
}
#i3 {
	grid-column-start: 3;
	grid-column-end: 3;
}
#i4 {
	grid-column-start: 4;
	grid-column-end: 4;
}

.navi-indicator {
	height: 4px;
	width: 60px;
	border-radius: 20px;
	transition: width 0.2s;
}

#ni1{
	background: var(--icolor1);	
}
#ni2{
	background: var(--icolor2);
}
#ni3{
	background: var(--icolor3);
}
#ni4{
	background: var(--icolor4);
}

.navi {
	grid-column-start: 2;
	grid-column-end: 2;
	grid-row-start: 4;
	grid-row-end: 4;
	display: grid;
	grid-template-columns: 25% 25% 25% 25%;
	grid-template-rows: 100px;
}

.navi-item1,
.navi-item2,
.navi-item3,
.navi-item4 {
	grid-column-start: 1;
	grid-column-end: 2;
	display: flex;
	align-items: center;
	justify-content: center;
}
.navi-item2 {
	grid-column-start: 2;
	grid-column-end: 2;
}
.navi-item3 {
	grid-column-start: 3;
	grid-column-end: 3;
}
.navi-item4 {
	grid-column-start: 4;
	grid-column-end: 4;
}

.nav-button {
	height: 70px;
	width: 70px;
	border-radius: 20px;
	background: linear-gradient(145deg, #e6e4da, #ffffff);
	box-shadow: 6px 6px 10px #cfcdc4, -6px -6px 10px #ffffff;
	font-family: "Rubik", sans-serif;
	font-weight: 700;
	cursor: pointer;
}

#startersbutton .navi-icon {
	color: var(--icolor1);
}
#mainsbutton .navi-icon {
	color: var(--icolor2);
}
#dessertsbutton .navi-icon {
	color: var(--icolor3);
}
#drinksbutton .navi-icon {
	color: var(--icolor4);
}

.navi-icon {
	height: 40px;
	line-height: 50px;
	font-size: 20px;
	text-align: center;
}

.navi-text {
	height: 30px;
	line-height: 20px;
	text-align: center;
	font-size: 0.9em;
	font-weight: 300;
}

.menu {
	grid-column-start: 2;
	grid-column-end: 2;
	grid-row-start: 2;
	grid-row-end: 4;
	overflow-y: auto;
}

.menu-item {
	grid-column-start: 2;
	grid-column-end: 2;
	height: 110px;
	margin: 15px;
	display: grid;
	grid-template-columns: auto 90px;
	grid-template-rows: 40px 60px;
	font-size: 0.9em;
	border-radius: var(--radius);
	padding-left: 30px;
	padding-top: 10px;
	background: linear-gradient(145deg, #ffffff, #e6e4da);
	box-shadow: 6px 6px 10px #c7c5bd, -6px -6px 10px #ffffff;
}
.menu-item-name {
	grid-column-start: 1;
	grid-column-end: 2;
	grid-row-start: 1;
	grid-row-end: 2;
	font-weight: 700;
	line-height: 50px;
}
.menu-item-description {
	grid-column-start: 1;
	grid-column-end: 2;
	grid-row-start: 2;
	grid-row-end: 2;
}
.menu-item-price {
	grid-column-start: 2;
	grid-column-end: 2;
	grid-row-start: 1;
	grid-row-end: 3;
	font-weight: 700;
	line-height: 100px;
	text-align: center;
}

.drink-item {
	grid-column-start: 2;
	grid-column-end: 2;
	height: 50px;
	margin: 15px;
	display: grid;
	grid-template-columns: auto 30px 90px;
	grid-template-rows: 50px;
	font-size: 0.9em;
	border-radius: var(--radius);
	padding-left: 30px;
	padding-top: 10px;
	background: linear-gradient(145deg, #ffffff, #e6e4da);
	box-shadow: 6px 6px 10px #c7c5bd, -6px -6px 10px #ffffff;
}
.drink-item-name {
	grid-column-start: 1;
	grid-column-end: 2;
	font-weight: 700;
	line-height: 50px;
}
.drink-item-description {
	grid-column-start: 2;
	grid-column-end: 2;
	line-height: 50px;
}
.drink-item-price {
	grid-column-start: 3;
	grid-column-end: 3;
	font-weight: 700;
	line-height: 50px;
	text-align: center;
}

.menu-separator {
	grid-column-start: 2;
	grid-column-end: 2;
	height: 50px;
	margin: 15px;
	margin-top: 35px;
	font-size: 1.2em;
	line-height: 50px;
	font-weight: 700;
	border-radius: var(--radius);
	padding-left: 30px;
	background: linear-gradient(145deg, #ffffff, #e6e4da);
	box-shadow: 6px 6px 10px #c7c5bd, -6px -6px 10px #ffffff;
}

/*Desktop Stuff*/
@media only screen and (min-width: 800px) {
	.container {
		grid-template-rows: 150px 100px 20px auto 20px;
	}
	.indicators {
		grid-row-start: 3;
		grid-row-end: 4;
	}
	.navi-indicator {
		height: 4px;
		width: 100%;
		margin: 15px;
	}
	.navi {
		grid-row-start: 2;
		grid-row-end: 3;
	}
	.navi-item1,
	.navi-item2,
	.navi-item3,
	.navi-item4 {
		display: flex;
	}
	.nav-button {
		height: 70px;
		width: 100%;
		margin: 15px;
		display: flex;
		justify-content: center;
		border-radius: var(--radius);
	}
	.navi-icon {
		height: 100%;
		line-height: 70px;
		font-size: 25px;
		text-align: center;
	}
	.navi-text {
		line-height: 70px;
		margin-left: 10px;
		text-align: left;
		font-size: 1.3em;
		font-weight: 700;
	}
	.menu {
		grid-row-start: 4;
		grid-row-end: 4;
	}
}

/*prevent defaults*/
button,
p {
	display: inline-block;
	border: none;
	margin: 0;
	text-decoration: none;
	padding: 0;
	background: none;
	border-radius: 0;
	-webkit-appearance: none;
	-moz-appearance: none;
	overflow: hidden;
	user-select: none;
	-webkit-tap-highlight-color: transparent;
}
input {
	padding: 0;
}
input:focus {
	outline: none;
}
button:focus {
	outline: none;
	color: var(--maincolor);
}

textarea:focus {
	outline: none;
}
select:focus {
	color: #39a;
}
a,
a:link,
a:visited {
	color: var(--maincolor);
}
.header {
  display: flex;
  align-items: center;
  padding: 20px;
}

.logo {
  height: 80px;
  margin-right: 20px;
}

.title {
  font-size: 40px;
  font-weight: bold;
}

</style>
<div class="container">
	<div class="header">
  <img src="logo-removebg-preview.png" alt="Logo" class="logo">
  <div class="title">Menu</div>
</div>

	<div class="indicators">
		<div id="i1">
			<div class="navi-indicator" id="ni1"></div>
		</div>
		<div id="i2">
			<div class="navi-indicator" id="ni2"></div>
		</div>
		<div id="i3">
			<div class="navi-indicator" id="ni3"></div>
		</div>
		<div id="i4">
			<div class="navi-indicator" id="ni4"></div>
		</div>
	</div>
	<div class="navi">
		<div class="navi-item1">
			<button class="nav-button" id="startersbutton">
				<div class="navi-icon"><i class="fas fa-seedling"></i></div>
				<div class="navi-text">Starters</div>
			</button>
		</div>
		<div class="navi-item2">
			<button class="nav-button" id="mainsbutton">
				<div class="navi-icon"><i class="fas fa-pizza-slice"></i></div>
				<div class="navi-text">Mains</div>
			</button>
		</div>
		<div class="navi-item3">
			<button class="nav-button" id="dessertsbutton">
				<div class="navi-icon"><i class="fas fa-ice-cream"></i></div>
				<div class="navi-text">Desserts</div>
			</button>
		</div>
		<div class="navi-item4">
			<button class="nav-button" id="drinksbutton">
				<div class="navi-icon"><i class="fas fa-wine-glass-alt"></i></div>
				<div class="navi-text">Drinks</div>
			</button>
		</div>
	</div>
	<div class="menu">
		<div class="menu-separator">Separator</div>
		<div class="menu-item">
			<div class="menu-item-name">Food</div>
			<div class="menu-item-description">Food yada yada</div>
			<div class="menu-item-price">17.50</div>
		</div>
		<div class="menu-separator">Separator</div>
		<div class="drink-item">
			<div class="drink-item-name">Drink</div>
			<div class="drink-item-description">3.3dl</div>
			<div class="drink-item-price">4.50</div>
		</div>
	</div>
</div>
<script>
//////////////////////
// Restaurant Menu - Version adaptée au JSON original
//////////////////////

const menuData = {
  "restaurant": "L'Amandier",
  "sections": {
    "buffet": {
      "Buffet des entrées à volonté": "18.00€"
    },
    "formules": {
      "Entrée + Plat + Dessert": "28.50€",
      "Entrée / Dessert + Plat": "22.50€",
      "Plat": "18.50€",
      "Entrée + Dessert": "20.50€"
    },
    "entrées": [
      "Saumon Fumé à la Salade d'Artichauts et de Pecorino",
      "Hummus avec Crudité de Légumes",
      "Crevettes Rôties avec Guacamole, Gouttes de Poivrons et Crème de Vinaigre Hibiscus-Chili",
      "Artichaut, Oignon et Pomme de Terre Farcie à la Bohémienne de Légumes",
      "Petits Oignons en Vinaigre Balsamique Servies en Chemise de Lard Sec au Poivre Noir, Roti",
      "Tartare de Thon, Oignons en Argidoux et Chips de Pain avec du Pesto de Fenouil Sauvage",
      "Crème de Tomate Fraiche avec Composition d'Artichauts, Haricots Verts et Cresson"
    ],
    "desserts": [
      "Milles Feuilles de Croquant au Tiramisu et Framboise",
      "Boule au Cœur de Fruit de la Passion et Harmonie du Chocolat Demetra",
      "Pavlova aux Fruits de la Passion, Amaretto, Pêche et Mure",
      "Coupe de Glaces",
      "Panna Cotta à l'Amaretto",
      "Nougat Parfait, Cerises Boires et Crumble au Café",
      "Crème Brulée"
    ],
    "boissons": {
      "boissons_fraîches": {
        "Coca Cola, Zero, Light, Schweppes 20cl, Orangina, jus (Abricot, Ananas, Orange, Tomate)": null,
        "Eau 50cl": "3.10€",
        "Eau 1L": "4.20€",
        "Badoit": "4.00€"
      },
      "boissons_chaudes": {
        "Café Expresso": "2.50€",
        "Café Crème, Chocolat, Thé, Infusion": "3.50€"
      }
    },
    "alcools": {
      "bières": {
        "Leffe": "5.50€",
        "Corona": "5.00€",
        "Heineken": "5.00€",
        "1664": "5.00€"
      },
      "apéritifs": {
        "Apéritifs à 3.90€": [
          "Kir classique 12,5cl",
          "Martini Rosso/Bianco 8cl",
          "Porto 8cl",
          "Suze 5cl",
          "Ricard 2cl"
        ],
        "Apéritifs à 4.50€": [
          "Whisky 4cl",
          "Bourbon 4cl",
          "Kir Royal 12,5cl"
        ],
        "Apéritifs à 7.50€": [
          "Jack Daniel's",
          "Chivas",
          "Glenfiddich 4cl"
        ]
      },
      "digestifs": {
        "Prix": "7.50€",
        "Liste": [
          "Armagnac",
          "Cognac",
          "Calvados",
          "Get27",
          "Get31",
          "Marie Brizad",
          "Baileys",
          "Rhum",
          "Mirabelle",
          "Poire",
          "Gin",
          "Vodka"
        ]
      },
      "champagne": {
        "Coupe de Champagne": "8.00€",
        "Bouteille de Champagne": "54.00€"
      }
    },
    "vins": {
      "vins_du_mois": {
        "Verre 15cl Blanc/Rosé/Rouge": "4.50€",
        "Carafe 25cl Blanc/Rosé/Rouge": "7.50€",
        "Carafe 50cl Blanc/Rosé/Rouge": "10.00€"
      },
      "bordeaux_rouge": {
        "Clarendelle 2014 Château Haut-Brion 75cl": "39.00€",
        "Château Coucheroy Pessac-Léognan 75cl": "39.00€",
        "Château Bonnet Rive Droite* 75cl": "29.50€",
        "Lacombe Noailla - Médoc AOC 75cl": "29.50€"
      },
      "centre_val_de_loire": {
        "Sancerre Rouge AOC-AOP 75cl": "29.50€",
        "Sancerre Blanc AOC-AOP 75cl": "9.50€"
      },
      "bourgogne": {
        "Chorey-lès-beaune (AOC), Rouge 75cl": "39.00€"
      },
      "côtes_de_provence": {
        "Domaine Hermitage de Saint Pons AOP Rosé 75cl (2016)": "29.00€"
      },
      "beaujolais_lyonnais": {
        "Brouilly domaine Crêt des Garanches AOC 75cl": "29.00€"
      },
      "vallée_du_rhône": {
        "Côtes-du-Rhône Rive Droite AOC, Rouge 75cl": "29.00€"
      }
    }
  }
};

// Fonction pour créer les items du menu
function createMenuItems(sectionData, isDrink = false) {
  const items = [];
  
  if (Array.isArray(sectionData)) {
    // Pour les entrées et desserts (tableaux simples)
    sectionData.forEach(item => {
      items.push({
        type: isDrink ? "drink" : "food",
        name: item,
        description: "",
        price: "" // Prix à compléter si nécessaire
      });
    });
  } else if (typeof sectionData === 'object') {
    // Pour les sections avec prix (objets key-value)
    for (const [name, price] of Object.entries(sectionData)) {
      if (Array.isArray(price)) {
        // Pour les listes comme les apéritifs
        price.forEach(subItem => {
          items.push({
            type: "drink",
            name: subItem,
            description: name, // On utilise le nom comme description
            price: name.match(/à (\d+\.\d+€)/)?.[1] || ""
          });
        });
      } else if (price !== null) {
        items.push({
          type: isDrink ? "drink" : "food",
          name: name,
          description: "",
          price: price
        });
      }
    }
  }
  
  return items;
}

// Préparation des données pour l'affichage
const starters = [
  { type: "separator", description: "BUFFET" },
  ...createMenuItems(menuData.sections.buffet),
  
  { type: "separator", description: "FORMULES" },
  ...createMenuItems(menuData.sections.formules),
  
  { type: "separator", description: "ENTRÉES" },
  ...createMenuItems(menuData.sections.entrées)
];

const desserts = [
  { type: "separator", description: "DESSERTS" },
  ...createMenuItems(menuData.sections.desserts)
];

const drinks = [
  { type: "separator", description: "BOISSONS FRAÎCHES" },
  ...createMenuItems(menuData.sections.boissons.boissons_fraîches, true),
  
  { type: "separator", description: "BOISSONS CHAUDES" },
  ...createMenuItems(menuData.sections.boissons.boissons_chaudes, true),
  
  { type: "separator", description: "BIÈRES" },
  ...createMenuItems(menuData.sections.alcools.bières, true),
  
  { type: "separator", description: "APÉRITIFS" },
  ...createMenuItems(menuData.sections.alcools.apéritifs, true),
  
  { type: "separator", description: "DIGESTIFS" },
  ...Object.entries(menuData.sections.alcools.digestifs.Liste).map(([_, name]) => ({
    type: "drink",
    name: name,
    description: "",
    price: menuData.sections.alcools.digestifs.Prix
  })),
  
  { type: "separator", description: "CHAMPAGNE" },
  ...createMenuItems(menuData.sections.alcools.champagne, true),
  
  { type: "separator", description: "VINS DU MOIS" },
  ...createMenuItems(menuData.sections.vins.vins_du_mois, true),
  
  { type: "separator", description: "VINS" },
  ...Object.entries(menuData.sections.vins).flatMap(([region, vins]) => {
    if (region === "vins_du_mois") return [];
    return [
      { type: "separator", description: region.toUpperCase().replace(/_/g, ' ') },
      ...createMenuItems(vins, true)
    ];
  })
];

// Les plats principaux ne sont pas dans le JSON - à ajouter manuellement
const mains = [
  { type: "separator", description: "PLATS PRINCIPAUX" },
  // Ajoute tes plats ici si tu les as
  { type: "food", name: "Exemple de plat principal", description: "Description", price: "24.00€" }
];

/////////////////////////////////////////////////////////////////
// Le reste du code (gestion de l'interface) reste inchangé
let sl = 0;

let startersbutton = document.getElementById("startersbutton");
let mainsbutton = document.getElementById("mainsbutton");
let dessertsbutton = document.getElementById("dessertsbutton");
let drinksbutton = document.getElementById("drinksbutton");

let ni1 = document.getElementById("ni1");
let ni2 = document.getElementById("ni2");
let ni3 = document.getElementById("ni3");
let ni4 = document.getElementById("ni4");

startersbutton.addEventListener("click", (e) => {
  setIndicator(0);
  populateItems(starters);
});
mainsbutton.addEventListener("click", (e) => {
  setIndicator(1);
  populateItems(mains);
});
dessertsbutton.addEventListener("click", (e) => {
  setIndicator(2);
  populateItems(desserts);
});
drinksbutton.addEventListener("click", (e) => {
  setIndicator(3);
  populateItems(drinks);
});

function populateItems(items) {
  let menu = document.querySelector(".menu");
  menu.innerHTML = "";
  for (i = 0; i < items.length; i++) {
    if (items[i].type === "separator") {
      let menuitem = document.createElement("div");
      menuitem.setAttribute("class", "menu-separator");
      menuitem.innerHTML = items[i].description;
      menu.appendChild(menuitem);
    }
    if (items[i].type === "food") {
      let menuitem = document.createElement("div");
      let menuitemname = document.createElement("div");
      let menuitemdesc = document.createElement("div");
      let menuitemprize = document.createElement("div");
      menuitem.setAttribute("class", "menu-item");
      menuitemname.setAttribute("class", "menu-item-name");
      menuitemdesc.setAttribute("class", "menu-item-description");
      menuitemprize.setAttribute("class", "menu-item-price");

      menuitemname.innerHTML = items[i].name;
      menuitemdesc.innerHTML = items[i].description;
      menuitemprize.innerHTML = items[i].price;

      menuitem.appendChild(menuitemname);
      menuitem.appendChild(menuitemdesc);
      menuitem.appendChild(menuitemprize);
      menu.appendChild(menuitem);
    }
    if (items[i].type === "drink") {
      let drinkitem = document.createElement("div");
      let drinkitemname = document.createElement("div");
      let drinkitemdesc = document.createElement("div");
      let drinkitemprize = document.createElement("div");
      drinkitem.setAttribute("class", "drink-item");
      drinkitemname.setAttribute("class", "drink-item-name");
      drinkitemdesc.setAttribute("class", "drink-item-description");
      drinkitemprize.setAttribute("class", "drink-item-price");

      drinkitemname.innerHTML = items[i].name;
      drinkitemdesc.innerHTML = items[i].description;
      drinkitemprize.innerHTML = items[i].price;

      drinkitem.appendChild(drinkitemname);
      drinkitem.appendChild(drinkitemdesc);
      drinkitem.appendChild(drinkitemprize);
      menu.appendChild(drinkitem);
    }
  }
}

function setIndicator(sel) {
  sl = sel;
  let vp = "";
  if (window.innerWidth < 800) {
    vp = "60px";
  } else {
    vp = "85%";
  }
  let elems = [ni1, ni2, ni3, ni4];
  for (i = 0; i < elems.length; i++) {
    if (i === sel) {
      elems[i].style.width = vp;
      elems[i].style.boxShadow = "2px 2px 10px 2px var(--icolor" + (i + 1) + ")";
    } else {
      elems[i].style.width = "0";
      elems[i].style.boxShadow = "none";
    }
  }
}

window.addEventListener("resize", (e) => {
  setIndicator(sl);
});

//default runs
setIndicator(0);
populateItems(starters);
</script>
